<VirtualHost *:80>
    ServerName compresion.empresa.local
    DocumentRoot /var/www/compresion.empresa.local

    # 1. Habilitar la compresión para tipos de texto
    <IfModule mod_deflate.c>
        SetOutputFilter DEFLATE
        AddOutputFilterByType DEFLATE text/html text/css text/plain text/xml application/javascript application/json
    </IfModule>

    # 2. Excluir archivos que ya están comprimidos (imágenes, videos, etc.)
    SetEnvIfNoCase Request_URI .(?:gif|jpe?g|png|mp4|avi|mov|pdf)$ no-gzip dont-vary

    ErrorLog ${APACHE_LOG_DIR}/error.log
    CustomLog ${APACHE_LOG_DIR}/access.log combined
</VirtualHost>
